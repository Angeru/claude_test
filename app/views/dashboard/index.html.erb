<% content_for(:body_class) { "bg-stone-950" } %>
<% content_for(:raw_content) { true } %>

<div class="me-home relative min-h-screen overflow-hidden">
  <!-- Background layers -->
  <div class="absolute inset-0 bg-gradient-to-b from-stone-950 via-stone-900 to-stone-950"></div>
  <div class="absolute inset-0 opacity-10" style="background-image: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22><rect width=%22100%22 height=%22100%22 fill=%22none%22/><path d=%22M0 50h100M50 0v100%22 stroke=%22%23a0845c%22 stroke-width=%220.5%22 opacity=%220.3%22/></svg>'); background-size: 100px 100px;"></div>

  <!-- Top decorative border -->
  <div class="relative z-10">
    <div class="h-1 bg-gradient-to-r from-transparent via-amber-700 to-transparent"></div>
    <div class="h-px bg-gradient-to-r from-transparent via-amber-500/50 to-transparent"></div>
  </div>

  <!-- Navigation -->
  <nav class="relative z-20 px-6 py-4">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 rounded-full border-2 border-amber-700 flex items-center justify-center bg-stone-900/80">
          <svg viewBox="0 0 24 24" class="w-5 h-5 text-amber-500" fill="currentColor">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
          </svg>
        </div>
        <%= link_to root_path, class: "text-amber-500 text-sm tracking-[0.3em] uppercase hover:text-amber-400 transition-colors", style: "font-family: 'Cinzel', serif; text-decoration: none;" do %>
          SBG Campaigns
        <% end %>
      </div>
      <div class="flex items-center gap-4">
        <span class="text-amber-200/60 text-sm" style="font-family: 'Crimson Text', serif;"><%= current_user.name %></span>
        <%= link_to "Inicio", root_path, class: "text-stone-400 hover:text-amber-400 text-sm tracking-wider uppercase transition-colors", style: "font-family: 'Cinzel', serif; font-size: 0.7rem;" %>
        <%= button_to "Salir", logout_path, method: :delete, class: "text-stone-400 hover:text-amber-400 text-sm tracking-wider uppercase transition-colors cursor-pointer", style: "font-family: 'Cinzel', serif; font-size: 0.7rem;" %>
      </div>
    </div>
  </nav>

  <!-- Dashboard Header -->
  <section class="relative z-10 px-6 pt-12 pb-8">
    <div class="max-w-5xl mx-auto text-center">
      <div class="flex items-center justify-center gap-4 mb-6">
        <div class="h-px w-24 bg-gradient-to-r from-transparent to-amber-700/60"></div>
        <svg viewBox="0 0 24 24" class="w-6 h-6 text-amber-600/60" fill="currentColor">
          <polygon points="12,2 15,9 22,9 16,14 18,21 12,17 6,21 8,14 2,9 9,9"/>
        </svg>
        <div class="h-px w-24 bg-gradient-to-l from-transparent to-amber-700/60"></div>
      </div>

      <h1 class="text-amber-100 mb-2 tracking-[0.15em] uppercase" style="font-family: 'Cinzel Decorative', serif; font-size: clamp(1.5rem, 4vw, 2.5rem); font-weight: 700;">
        Panel de Control
      </h1>
      <p class="text-stone-400 leading-relaxed" style="font-family: 'Crimson Text', serif; font-size: 1.15rem;">
        Bienvenido, <span class="text-amber-400/80"><%= current_user.name %></span>
      </p>
    </div>
  </section>

  <!-- User Info Card -->
  <section class="relative z-10 px-6 pb-8">
    <div class="max-w-4xl mx-auto">
      <div class="rounded-lg border border-amber-900/30 bg-gradient-to-b from-stone-900/80 to-stone-950/80 p-6">
        <div class="flex items-center gap-3 mb-4">
          <div class="w-10 h-10 rounded-full border border-amber-700/40 flex items-center justify-center bg-amber-900/20">
            <svg viewBox="0 0 24 24" class="w-5 h-5 text-amber-500/80" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z"/>
            </svg>
          </div>
          <h2 class="text-amber-200/80 tracking-wider uppercase" style="font-family: 'Cinzel', serif; font-size: 0.8rem;">
            Perfil
          </h2>
        </div>
        <div class="space-y-3 pl-2">
          <p class="text-stone-400" style="font-family: 'Crimson Text', serif; font-size: 1.05rem;">
            <span class="text-amber-600/70 text-xs tracking-widest uppercase mr-2" style="font-family: 'Cinzel', serif; font-size: 0.65rem;">Email</span>
            <span class="text-stone-300"><%= current_user.email %></span>
          </p>
          <p class="text-stone-400" style="font-family: 'Crimson Text', serif; font-size: 1.05rem;">
            <span class="text-amber-600/70 text-xs tracking-widest uppercase mr-2" style="font-family: 'Cinzel', serif; font-size: 0.65rem;">Miembro desde</span>
            <span class="text-stone-300"><%= l(current_user.created_at, format: :long) %></span>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Action Cards Grid -->
  <section class="relative z-10 px-6 pb-12">
    <div class="max-w-4xl mx-auto">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

        <!-- Campaigns Card -->
        <div class="group relative rounded-lg overflow-hidden border border-amber-900/30 bg-gradient-to-b from-stone-900/80 to-stone-950/80 hover:border-amber-700/50 transition-all duration-500">
          <div class="absolute inset-0 bg-gradient-to-b from-emerald-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          <div class="relative p-8">
            <div class="w-14 h-14 mx-auto mb-5 rounded-full border border-emerald-700/40 flex items-center justify-center bg-emerald-900/20">
              <svg viewBox="0 0 24 24" class="w-7 h-7 text-emerald-500/80" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
            </div>
            <h3 class="text-center text-amber-100 tracking-widest uppercase mb-3" style="font-family: 'Cinzel', serif; font-size: 0.95rem;">
              Campanas
            </h3>
            <p class="text-center text-stone-400 text-sm leading-relaxed mb-6" style="font-family: 'Crimson Text', serif; font-size: 1rem;">
              Explora las campanas disponibles o gestiona las tuyas propias.
            </p>
            <div class="space-y-3">
              <%= link_to "Ver Campanas", campaigns_path, class: "block w-full text-center px-6 py-2.5 bg-gradient-to-b from-amber-700 to-amber-900 text-amber-100 rounded border border-amber-600/50 hover:from-amber-600 hover:to-amber-800 transition-all shadow-lg shadow-amber-900/30 tracking-wider uppercase", style: "font-family: 'Cinzel', serif; font-size: 0.7rem; letter-spacing: 0.15em;" %>
              <%= link_to "Mis Campanas", my_campaigns_campaigns_path, class: "block w-full text-center px-6 py-2.5 border border-amber-800/50 text-amber-400 rounded hover:bg-amber-900/20 hover:border-amber-700/60 transition-all tracking-wider uppercase", style: "font-family: 'Cinzel', serif; font-size: 0.7rem; letter-spacing: 0.15em;" %>
            </div>
          </div>
        </div>

        <!-- Warbands Card -->
        <div class="group relative rounded-lg overflow-hidden border border-amber-900/30 bg-gradient-to-b from-stone-900/80 to-stone-950/80 hover:border-amber-700/50 transition-all duration-500">
          <div class="absolute inset-0 bg-gradient-to-b from-red-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
          <div class="relative p-8">
            <div class="w-14 h-14 mx-auto mb-5 rounded-full border border-red-800/40 flex items-center justify-center bg-red-900/20">
              <svg viewBox="0 0 24 24" class="w-7 h-7 text-red-500/80" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8zM23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/>
              </svg>
            </div>
            <h3 class="text-center text-amber-100 tracking-widest uppercase mb-3" style="font-family: 'Cinzel', serif; font-size: 0.95rem;">
              Warbands
            </h3>
            <p class="text-center text-stone-400 text-sm leading-relaxed mb-6" style="font-family: 'Crimson Text', serif; font-size: 1rem;">
              Gestiona tus warbands, heroes y guerreros para la batalla.
            </p>
            <div class="space-y-3">
              <%= link_to "Mis Warbands", warbands_path, class: "block w-full text-center px-6 py-2.5 bg-gradient-to-b from-amber-700 to-amber-900 text-amber-100 rounded border border-amber-600/50 hover:from-amber-600 hover:to-amber-800 transition-all shadow-lg shadow-amber-900/30 tracking-wider uppercase", style: "font-family: 'Cinzel', serif; font-size: 0.7rem; letter-spacing: 0.15em;" %>
            </div>
          </div>
        </div>

        <% if current_user.admin? %>
          <!-- Admin Card -->
          <div class="group relative rounded-lg overflow-hidden border border-amber-900/30 bg-gradient-to-b from-stone-900/80 to-stone-950/80 hover:border-amber-700/50 transition-all duration-500 md:col-span-2">
            <div class="absolute inset-0 bg-gradient-to-b from-amber-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
            <div class="relative p-8">
              <div class="w-14 h-14 mx-auto mb-5 rounded-full border border-amber-700/40 flex items-center justify-center bg-amber-900/20">
                <svg viewBox="0 0 24 24" class="w-7 h-7 text-amber-500/80" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                </svg>
              </div>
              <h3 class="text-center text-amber-100 tracking-widest uppercase mb-3" style="font-family: 'Cinzel', serif; font-size: 0.95rem;">
                Administracion
              </h3>
              <p class="text-center text-stone-400 text-sm leading-relaxed mb-6" style="font-family: 'Crimson Text', serif; font-size: 1rem;">
                Panel de administracion para gestionar usuarios y campanas del sistema.
              </p>
              <div class="flex flex-col sm:flex-row justify-center gap-3 max-w-md mx-auto">
                <%= link_to "Gestion de Usuarios", admin_users_path, class: "block text-center px-6 py-2.5 bg-gradient-to-b from-amber-700 to-amber-900 text-amber-100 rounded border border-amber-600/50 hover:from-amber-600 hover:to-amber-800 transition-all shadow-lg shadow-amber-900/30 tracking-wider uppercase", style: "font-family: 'Cinzel', serif; font-size: 0.7rem; letter-spacing: 0.15em;" %>
                <%= link_to "Gestion de Campanas", admin_campaigns_path, class: "block text-center px-6 py-2.5 border border-amber-800/50 text-amber-400 rounded hover:bg-amber-900/20 hover:border-amber-700/60 transition-all tracking-wider uppercase", style: "font-family: 'Cinzel', serif; font-size: 0.7rem; letter-spacing: 0.15em;" %>
              </div>
            </div>
          </div>
        <% end %>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="relative z-10 border-t border-amber-900/20 mt-8">
    <div class="max-w-6xl mx-auto px-6 py-8">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="text-stone-600 text-sm" style="font-family: 'Crimson Text', serif;">
          Middle-earth SBG Campaign Manager
        </div>
        <div class="flex items-center gap-6">
          <%= link_to "Inicio", root_path, class: "text-stone-500 hover:text-amber-500 text-xs tracking-widest uppercase transition-colors", style: "font-family: 'Cinzel', serif;" %>
          <%= link_to "Campanas", campaigns_path, class: "text-stone-500 hover:text-amber-500 text-xs tracking-widest uppercase transition-colors", style: "font-family: 'Cinzel', serif;" %>
          <%= link_to "Warbands", warbands_path, class: "text-stone-500 hover:text-amber-500 text-xs tracking-widest uppercase transition-colors", style: "font-family: 'Cinzel', serif;" %>
        </div>
      </div>
    </div>
    <div class="h-px bg-gradient-to-r from-transparent via-amber-700 to-transparent"></div>
    <div class="h-1 bg-gradient-to-r from-transparent via-amber-900/50 to-transparent"></div>
  </footer>
</div>
