<% content_for(:body_class) { "bg-stone-950" } %>
<% content_for(:raw_content) { true } %>

<%= render layout: "shared/dark_layout" do %>
  <!-- Back link -->
  <%= link_to warband_path(@warband), class: "inline-flex items-center gap-2 text-amber-400 hover:text-amber-300 transition-colors mb-6", style: "font-family: 'Cinzel', serif; font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase;" do %>
    <svg viewBox="0 0 24 24" class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    <%= @warband.name %>
  <% end %>

  <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4">
    <div>
      <div class="flex items-center gap-4 mb-3">
        <div class="h-px w-8 bg-gradient-to-r from-transparent to-amber-700/60"></div>
        <svg viewBox="0 0 24 24" class="w-4 h-4 text-amber-600/60" fill="currentColor">
          <polygon points="12,2 15,9 22,9 16,14 18,21 12,17 6,21 8,14 2,9 9,9"/>
        </svg>
        <div class="h-px w-8 bg-gradient-to-l from-transparent to-amber-700/60"></div>
      </div>
      <h1 class="text-amber-100 tracking-[0.1em] uppercase" style="font-family: 'Cinzel', serif; font-size: 1.6rem; font-weight: 700;">
        Miembros de <%= @warband.name %>
      </h1>
      <p class="text-stone-400 mt-2" style="font-family: 'Crimson Text', serif;">
        Total: <%= @members.count %> |
        Heroes: <%= @heroes.count %> |
        Guerreros: <%= @warriors.count %>
      </p>
    </div>
    <%= link_to new_warband_warband_member_path(@warband), class: "px-5 py-2.5 bg-gradient-to-b from-amber-700 to-amber-900 text-amber-100 rounded border border-amber-600/50 hover:from-amber-600 hover:to-amber-800 transition-all shadow-lg shadow-amber-900/30", style: "font-family: 'Cinzel', serif; letter-spacing: 0.1em; text-transform: uppercase; font-size: 0.75rem;" do %>
      Anadir Miembro
    <% end %>
  </div>

  <% if @members.empty? %>
    <div class="rounded-lg border border-amber-900/30 bg-gradient-to-b from-stone-900/80 to-stone-950/80 p-12 text-center">
      <div class="w-16 h-16 mx-auto mb-5 rounded-full border border-amber-700/40 flex items-center justify-center bg-amber-900/20">
        <svg viewBox="0 0 24 24" class="w-8 h-8 text-amber-500/60" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2M9 11a4 4 0 100-8 4 4 0 000 8z"/>
        </svg>
      </div>
      <p class="text-stone-400 mb-5" style="font-family: 'Crimson Text', serif; font-size: 1.1rem;">Esta warband no tiene miembros todavia</p>
      <%= link_to "Anadir primer miembro", new_warband_warband_member_path(@warband),
          class: "text-amber-400 hover:text-amber-300 transition-colors tracking-wider uppercase",
          style: "font-family: 'Cinzel', serif; font-size: 0.8rem;" %>
    </div>
  <% else %>
    <!-- Heroes Section -->
    <% if @heroes.any? %>
      <div class="mb-10">
        <div class="flex items-center gap-3 mb-5">
          <div class="w-8 h-8 rounded-full border border-amber-700/40 flex items-center justify-center bg-amber-900/20">
            <svg viewBox="0 0 24 24" class="w-4 h-4 text-amber-500/80" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M12 3l2 6h6l-5 4 2 6-5-4-5 4 2-6-5-4h6z"/>
            </svg>
          </div>
          <h2 class="text-amber-200/80 tracking-wider uppercase" style="font-family: 'Cinzel', serif; font-size: 1.1rem;">Heroes</h2>
          <div class="h-px flex-1 bg-amber-800/30"></div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
          <%= render partial: 'member_card', collection: @heroes, as: :member %>
        </div>
      </div>
    <% end %>

    <!-- Warriors Section -->
    <% if @warriors.any? %>
      <div>
        <div class="flex items-center gap-3 mb-5">
          <div class="w-8 h-8 rounded-full border border-stone-700/40 flex items-center justify-center bg-stone-800/30">
            <svg viewBox="0 0 24 24" class="w-4 h-4 text-stone-400/80" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2M10 11a4 4 0 100-8 4 4 0 000 8z"/>
            </svg>
          </div>
          <h2 class="text-stone-300/80 tracking-wider uppercase" style="font-family: 'Cinzel', serif; font-size: 1.1rem;">Guerreros</h2>
          <div class="h-px flex-1 bg-stone-700/30"></div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
          <%= render partial: 'member_card', collection: @warriors, as: :member %>
        </div>
      </div>
    <% end %>
  <% end %>
<% end %>
